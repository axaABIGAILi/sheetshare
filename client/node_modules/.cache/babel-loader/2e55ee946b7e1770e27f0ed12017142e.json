{"ast":null,"code":"import _defineProperty from \"/Users/joshuagrossman/bootcamp/sheetshare/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/joshuagrossman/bootcamp/sheetshare/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/joshuagrossman/bootcamp/sheetshare/client/src/components/SubmitForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { storage } from \"../firebase\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { getPosts, savePosts } from \"../actions/postAction\";\nconst useStyles = makeStyles(theme => ({\n  container: {// display: \"flex\",\n    // flexWrap: \"wrap\"\n  },\n  textField: {\n    margin: theme.spacing(1)\n  },\n  formControl: {\n    margin: theme.spacing(1)\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  submitButton: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    marginTop: theme.spacing(3)\n  }\n}));\nexport default connect(null, {\n  getPosts,\n  savePosts\n})(({\n  savePosts,\n  getPosts\n}) => {\n  const classes = useStyles();\n\n  const _React$useState = React.useState({\n    title: \"\",\n    blurb: \"\",\n    instrument: \"\",\n    genre: \"\",\n    link: \"\"\n  }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        values = _React$useState2[0],\n        setValues = _React$useState2[1];\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        file = _useState2[0],\n        setFile = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        progress = _useState4[0],\n        setProgress = _useState4[1];\n\n  const handleChange = name => event => {\n    setValues(_objectSpread({}, values, {\n      [name]: event.target.value\n    }));\n  };\n\n  const uploadFile = handleURLChange => {\n    console.log(\"Uploading\", file);\n    const storageRef = storage.ref(\"sheets/\" + file.name); //upload  file\n\n    const task = storageRef.put(file); // update progress\n\n    task.on(\"state_changed\", function progress(snapshot) {\n      const percentage = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      setProgress(percentage);\n    }, function error(err) {\n      console.log(\"File upload error\", err);\n    }, function complete() {\n      task.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n        let url = downloadURL;\n        savePosts(values, url);\n      });\n    });\n  }; // handle submit\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!file) {\n      return;\n    }\n\n    uploadFile();\n    getPosts();\n    setValues({\n      title: \"\",\n      blurb: \"\",\n      instrument: \"\",\n      genre: \"\",\n      link: \"\"\n    }); // setFile(null);\n  };\n\n  return React.createElement(\"form\", {\n    className: classes.container,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    label: \"Title\",\n    className: classes.textField,\n    placeholder: \"Song Title...\",\n    onChange: handleChange(\"title\"),\n    value: values.title,\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    className: classes.formControl,\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"instrument\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Instrument\"), React.createElement(Select, {\n    value: values.instrument,\n    onChange: handleChange(\"instrument\"),\n    inputProps: {\n      name: \"instrument\",\n      id: \"instrument\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"Banjo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"Banjo\"), React.createElement(MenuItem, {\n    value: \"Bass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Bass\"), React.createElement(MenuItem, {\n    value: \"Bassoon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Bassoon\"), React.createElement(MenuItem, {\n    value: \"Cello\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Cello\"), React.createElement(MenuItem, {\n    value: \"Clarinet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Clarinet\"), React.createElement(MenuItem, {\n    value: \"Drums\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Drums\"), React.createElement(MenuItem, {\n    value: \"Electric Bass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, \"Electric Bass\"), React.createElement(MenuItem, {\n    value: \"Electric Guitar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \"Electric Guitar\"), React.createElement(MenuItem, {\n    value: \"Flute\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Flute\"), React.createElement(MenuItem, {\n    value: \"French Horn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"French Horn\"), React.createElement(MenuItem, {\n    value: \"Guitar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Guitar\"), React.createElement(MenuItem, {\n    value: \"Mandolin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"Mandolin\"), React.createElement(MenuItem, {\n    value: \"Piano\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Piano\"), React.createElement(MenuItem, {\n    value: \"Saxophone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Saxophone\"), React.createElement(MenuItem, {\n    value: \"Trumpet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, \"Trumpet\"), React.createElement(MenuItem, {\n    value: \"Tuba\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Tuba\"), React.createElement(MenuItem, {\n    value: \"Ukulele\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, \"Ukulele\"), React.createElement(MenuItem, {\n    value: \"Viola\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Viola\"), React.createElement(MenuItem, {\n    value: \"Violin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Violin\"))), React.createElement(FormControl, {\n    className: classes.formControl,\n    fullWidth: true,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"genre\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }, \"Genre\"), React.createElement(Select, {\n    value: values.genre,\n    onChange: handleChange(\"genre\"),\n    inputProps: {\n      name: \"genre\",\n      id: \"genre\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"Classical\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"Classical\"), React.createElement(MenuItem, {\n    value: \"Country\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, \"Country\"), React.createElement(MenuItem, {\n    value: \"Folk\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"Folk\"), React.createElement(MenuItem, {\n    value: \"Latino\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"Latino\"), React.createElement(MenuItem, {\n    value: \"Jazz\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, \"Jazz\"), React.createElement(MenuItem, {\n    value: \"Pop\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, \"Pop\"), React.createElement(MenuItem, {\n    value: \"Reggae\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Reggae\"), React.createElement(MenuItem, {\n    value: \"Rock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Rock\"), React.createElement(MenuItem, {\n    value: \"Rhythm and Blues\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"Rhythm and Blues\"), React.createElement(MenuItem, {\n    value: \"Soul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Soul\"))), React.createElement(TextField, {\n    id: \"filled-multiline-flexible\",\n    label: \"About this Song...\",\n    multiline: true,\n    rowsMax: \"4\",\n    value: values.blurb,\n    onChange: handleChange(\"blurb\"),\n    className: classes.textField,\n    margin: \"normal\",\n    helperText: \"hello\",\n    name: \"blurb\",\n    required: true,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), React.createElement(LinearProgress, {\n    variant: \"determinate\",\n    value: progress,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }), React.createElement(DropzoneArea, {\n    filesLimit: 1,\n    acceptedFiles: [\"image/*\", \"application/pdf\"],\n    onChange: files => setFile(files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    className: classes.submitButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"Submit\"));\n});","map":{"version":3,"sources":["/Users/joshuagrossman/bootcamp/sheetshare/client/src/components/SubmitForm.js"],"names":["React","useState","makeStyles","TextField","LinearProgress","DropzoneArea","storage","InputLabel","MenuItem","FormControl","Select","Button","connect","getPosts","savePosts","useStyles","theme","container","textField","margin","spacing","formControl","selectEmpty","marginTop","button","submitButton","marginLeft","marginRight","marginBottom","classes","title","blurb","instrument","genre","link","values","setValues","file","setFile","progress","setProgress","handleChange","name","event","target","value","uploadFile","handleURLChange","console","log","storageRef","ref","task","put","on","snapshot","percentage","bytesTransferred","totalBytes","error","err","complete","getDownloadURL","then","downloadURL","url","handleSubmit","e","preventDefault","id","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport { storage } from \"../firebase\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Button from \"@material-ui/core/Button\";\nimport { connect } from \"react-redux\";\nimport { getPosts, savePosts } from \"../actions/postAction\";\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    // display: \"flex\",\n    // flexWrap: \"wrap\"\n  },\n  textField: {\n    margin: theme.spacing(1)\n  },\n  formControl: {\n    margin: theme.spacing(1)\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  submitButton: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    marginTop: theme.spacing(3)\n  }\n}));\n\nexport default connect(\n  null,\n  { getPosts, savePosts }\n)(({ savePosts, getPosts }) => {\n  const classes = useStyles();\n\n  const [values, setValues] = React.useState({\n    title: \"\",\n    blurb: \"\",\n    instrument: \"\",\n    genre: \"\",\n    link:\"\"\n    \n  });\n  const [file, setFile] = useState(null);\n  const [progress, setProgress] = useState(0);\n  \n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n  \n \n\n  const uploadFile = (handleURLChange) => {\n    console.log(\"Uploading\", file);\n    const storageRef = storage.ref(\"sheets/\" + file.name);\n\n    //upload  file\n    const task = storageRef.put(file);\n  \n    // update progress\n    task.on(\n      \"state_changed\",\n      function progress(snapshot) {\n        const percentage =\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        setProgress(percentage);\n      },\n      function error(err) {\n        console.log(\"File upload error\", err);\n      },\n\n      function complete() {\n        task.snapshot.ref.getDownloadURL().then(function(downloadURL) {\n          let url = downloadURL;\n          savePosts(values,url); \n      });\n  });\n};\n\n\n  // handle submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!file) {\n      return;\n    }\n    uploadFile();\n\n    getPosts();\n\n    setValues({\n      title: \"\",\n      blurb: \"\",\n      instrument: \"\",\n      genre: \"\",\n      link:\"\"\n    });\n    // setFile(null);\n  };\n\n  return (\n    <form className={classes.container} onSubmit={handleSubmit}>\n      <TextField\n        label=\"Title\"\n        className={classes.textField}\n        placeholder=\"Song Title...\"\n        onChange={handleChange(\"title\")}\n        value={values.title}\n        fullWidth\n        required\n      />\n      <FormControl className={classes.formControl} fullWidth required>\n        <InputLabel htmlFor=\"instrument\">Instrument</InputLabel>\n        <Select\n          value={values.instrument}\n          onChange={handleChange(\"instrument\")}\n          inputProps={{\n            name: \"instrument\",\n            id: \"instrument\"\n          }}\n        >\n          <MenuItem value=\"Banjo\">Banjo</MenuItem>\n          <MenuItem value=\"Bass\">Bass</MenuItem>\n          <MenuItem value=\"Bassoon\">Bassoon</MenuItem>\n          <MenuItem value=\"Cello\">Cello</MenuItem>\n          <MenuItem value=\"Clarinet\">Clarinet</MenuItem>\n          <MenuItem value=\"Drums\">Drums</MenuItem>\n          <MenuItem value=\"Electric Bass\">Electric Bass</MenuItem>\n          <MenuItem value=\"Electric Guitar\">Electric Guitar</MenuItem>\n          <MenuItem value=\"Flute\">Flute</MenuItem>\n          <MenuItem value=\"French Horn\">French Horn</MenuItem>\n          <MenuItem value=\"Guitar\">Guitar</MenuItem>\n          <MenuItem value=\"Mandolin\">Mandolin</MenuItem>\n          <MenuItem value=\"Piano\">Piano</MenuItem>\n          <MenuItem value=\"Saxophone\">Saxophone</MenuItem>\n          <MenuItem value=\"Trumpet\">Trumpet</MenuItem>\n          <MenuItem value=\"Tuba\">Tuba</MenuItem>\n          <MenuItem value=\"Ukulele\">Ukulele</MenuItem>\n          <MenuItem value=\"Viola\">Viola</MenuItem>\n          <MenuItem value=\"Violin\">Violin</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl className={classes.formControl} fullWidth required>\n        <InputLabel htmlFor=\"genre\">Genre</InputLabel>\n        <Select\n          value={values.genre}\n          onChange={handleChange(\"genre\")}\n          inputProps={{\n            name: \"genre\",\n            id: \"genre\"\n          }}\n        >\n          <MenuItem value=\"Classical\">Classical</MenuItem>\n          <MenuItem value=\"Country\">Country</MenuItem>\n          <MenuItem value=\"Folk\">Folk</MenuItem>\n          <MenuItem value=\"Latino\">Latino</MenuItem>\n          <MenuItem value=\"Jazz\">Jazz</MenuItem>\n          <MenuItem value=\"Pop\">Pop</MenuItem>\n          <MenuItem value=\"Reggae\">Reggae</MenuItem>\n          <MenuItem value=\"Rock\">Rock</MenuItem>\n          <MenuItem value=\"Rhythm and Blues\">Rhythm and Blues</MenuItem>\n          <MenuItem value=\"Soul\">Soul</MenuItem>\n        </Select>\n      </FormControl>\n      <TextField\n        id=\"filled-multiline-flexible\"\n        label=\"About this Song...\"\n        multiline\n        rowsMax=\"4\"\n        value={values.blurb}\n        onChange={handleChange(\"blurb\")}\n        className={classes.textField}\n        margin=\"normal\"\n        helperText=\"hello\"\n        name=\"blurb\"\n        required\n        fullWidth\n      />\n\n      <LinearProgress variant=\"determinate\" value={progress} />\n      <DropzoneArea\n        filesLimit={1}\n        acceptedFiles={[\"image/*\", \"application/pdf\"]}\n        onChange={files => setFile(files[0])}\n      />\n      <Button\n        variant=\"contained\"\n        type=\"submit\"\n        className={classes.submitButton}\n      >\n        Submit\n      </Button>\n    </form>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}